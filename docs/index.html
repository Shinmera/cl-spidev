<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Cl Spidev</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project >section img{max-width:100%;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.project #system #author label{vertical-align:top;}article.project #system #author ul{display:inline-block;margin:0;padding:0;list-style:none;}article.project #toc nav>*{margin-left:1em;display:block;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}@media (min-width: 1300px){html body{padding-left:16em;}article.project #toc{margin:0;position:fixed;left:0;top:0;bottom:0;width:15em;overflow-y:auto;background:#F0F0F0;border-right:1px solid #A0A0A0;}}</style> </head> <body> <article class="project"> <header>   <h1>cl spidev</h1>   <span class="version">1.1.0</span>    <p class="description">A library for the Linux SPIDEV kernel module as used on hobby kits such as the Raspberry Pi</p>   </header> <section id="toc"> <h2>Table of Contents</h2> <nav> <a href="#project">Top</a>  <a href="#documentation">Documentation</a> <nav> <a href="#about_cl-spidev">About cl-spidev</a>  <a href="#how_to">How To</a> </nav>  <a href="#system">System</a>  <a href="#system">Packages</a> <nav> <a href="#PACKAGE%20CL-SPIDEV-LLI">CL-SPIDEV-LLI</a>  <a href="#PACKAGE%20CL-SPIDEV">CL-SPIDEV</a> </nav>  </nav> </section>  <section id="documentation"><h2 id="about_cl-spidev">About cl-spidev</h2> <p>This is a bindings library for the Linux SPIDEV kernel module as described on <a href="https://www.kernel.org/doc/Documentation/spi/spidev">https://www.kernel.org/doc/Documentation/spi/spidev</a>. It provides both direct low-level, and high-level convenient access.</p> <h2 id="how_to">How To</h2> <p>List all the available SPIDEV devices.</p> <pre><code>(<a href="#FUNCTION%20CL-SPIDEV-LLI%3ADEVICES" class="xref">spidev:devices</a>)</code></pre> <p>Create a handle object to one of them.</p> <pre><code>(<a href="http://l1sp.org/cl/defvar" class="xref">defvar</a> *handle* (<a href="#FUNCTION%20CL-SPIDEV%3AOPEN" class="xref">spidev:open</a> &quot;0.0&quot;))</code></pre> <p>You can then read out the current information of the device.</p> <pre><code>(<a href="#FUNCTION%20CL-SPIDEV%3AMODE" class="xref">spidev:mode</a> *handle*)
(<a href="#FUNCTION%20CL-SPIDEV%3ALSB-FIRST" class="xref">spidev:lsb-first</a> *handle*)
(<a href="#FUNCTION%20CL-SPIDEV%3ABITS%2FWORD" class="xref">spidev:bits/word</a> *handle*)
(<a href="#FUNCTION%20CL-SPIDEV%3AMAX-SPEED" class="xref">spidev:max-speed</a> *handle*)</code></pre> <p>You can also set the above places to the values you need them to be. See the respective docstrings.</p> <p>Finally you can read from and write to the device.</p> <pre><code>(<a href="#FUNCTION%20CL-SPIDEV%3AREAD%2A" class="xref">spidev:read*</a> 12 *handle*)
(<a href="#FUNCTION%20CL-SPIDEV%3AWRITE%2A" class="xref">spidev:write*</a> *handle* 1 2 3 4)</code></pre> <p>Once you are done you can either close the handle explicitly...</p> <pre><code>(<a href="#FUNCTION%20CL-SPIDEV%3ACLOSE" class="xref">spidev:close</a> *handle*)</code></pre> <p>Or simply lose all references to it and wait for the GC to take care of it for you. Either way, it should be safe.</p> </section>    <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.1.0</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="https://Shinmera.github.io/documentation-utils/">documentation-utils</a></li><li><a class="external">trivial-garbage</a></li><li><a class="external">cffi</a></li></ul> </div>   <div class="row" id="author"> <label for="author">Author:</label> <a href="mailto:shinmera@tymoon.eu">Yukari Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/LICENSE">zlib</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://Shinmera.github.io/cl-spidev/">https://Shinmera.github.io/cl-spidev/</a> </div>   <div class="row"> <label for="bug-tracker">Bug Tracker:</label> <a id="bug-tracker" href="https://github.com/Shinmera/cl-spidev/issues">https://github.com/Shinmera/cl-spidev/issues</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/Shinmera/cl-spidev.git">https://github.com/Shinmera/cl-spidev.git</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE CL-SPIDEV-LLI"> <header> <h3> <a href="#PACKAGE%20CL-SPIDEV-LLI">CL-SPIDEV-LLI</a> </h3> <ul class="nicknames"> <li>ORG.SHIRAKUMO.SPIDEV.LLI</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-3WIRE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-3WIRE">SPI-3WIRE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L24">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_3WIRE.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-CPOL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-CPOL">SPI-CPOL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L17">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_CPOL.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-CS-HIGH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-CS-HIGH">SPI-CS-HIGH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L22">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_CS_HIGH.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-MESSAGE-1"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-MESSAGE-1">SPI-IOC-MESSAGE-1</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L32">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_MESSAGE(1).</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-RD-BITS-PER-WORD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-BITS-PER-WORD">SPI-IOC-RD-BITS-PER-WORD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L37">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_RD_BITS_PER_WORD.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-RD-LSB-FIRST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-LSB-FIRST">SPI-IOC-RD-LSB-FIRST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L35">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_RD_LSB_FIRST.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-RD-MAX-SPEED-HZ"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-MAX-SPEED-HZ">SPI-IOC-RD-MAX-SPEED-HZ</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L39">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_RD_MAX_SPEED_HZ.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-RD-MODE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-MODE">SPI-IOC-RD-MODE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L33">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_RD_MODE.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-RD-MODE32"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-MODE32">SPI-IOC-RD-MODE32</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L41">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_RD_MODE32.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-WR-BITS-PER-WORD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-BITS-PER-WORD">SPI-IOC-WR-BITS-PER-WORD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L38">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_WR_BITS_PER_WORD.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-WR-LSB-FIRST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-LSB-FIRST">SPI-IOC-WR-LSB-FIRST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L36">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_WR_LSB_FIRST.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-WR-MAX-SPEED-HZ"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-MAX-SPEED-HZ">SPI-IOC-WR-MAX-SPEED-HZ</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L40">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_WR_MAX_SPEED_HZ.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-WR-MODE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-MODE">SPI-IOC-WR-MODE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L34">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_WR_MODE.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-IOC-WR-MODE32"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-MODE32">SPI-IOC-WR-MODE32</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L42">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_IOC_WR_MODE32.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-LOOP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-LOOP">SPI-LOOP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L25">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_LOOP.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-LSB-FIRST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-LSB-FIRST">SPI-LSB-FIRST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L23">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_LSB_FIRST.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-MODE-0"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-0">SPI-MODE-0</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L18">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_MODE_0.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-MODE-1"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-1">SPI-MODE-1</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L19">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_MODE_1.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-MODE-2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-2">SPI-MODE-2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L20">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_MODE_2.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-MODE-3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-3">SPI-MODE-3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L21">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_MODE_3.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-NO-CS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-NO-CS">SPI-NO-CS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L26">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_NO_CS.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-READY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-READY">SPI-READY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L27">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_READY.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-RX-DUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-RX-DUAL">SPI-RX-DUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L30">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_RX_DUAL.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-RX-QUAD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-RX-QUAD">SPI-RX-QUAD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L31">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_RX_QUAD.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-TX-DUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-TX-DUAL">SPI-TX-DUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L28">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_TX_DUAL.</pre></div> </article> </li>  <li> <article class="definition constant" id="VARIABLE CL-SPIDEV-LLI:SPI-TX-QUAD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONSTANT</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-TX-QUAD">SPI-TX-QUAD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/constants.lisp#L29">Source</a>  </header> <div class="docstring"><pre>Constant holding the value defined in the kernel constant SPI_TX_QUAD.</pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE CL-SPIDEV-LLI:*SPIDEV-ROOT*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20CL-SPIDEV-LLI%3A%2ASPIDEV-ROOT%2A">*SPIDEV-ROOT*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L5">Source</a>  </header> <div class="docstring"><pre>The root path for SPIDEV devices.
Should be /dev/</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:BITS/WORD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3ABITS%2FWORD">BITS/WORD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L60">Source</a>  </header> <div class="docstring"><pre>Accessor to how many bits there are per word on the SPIDEV device.

The value should be a positive integer, where 0 defaults to 8.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AIOCTL" class="xref">IOCTL</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-BITS-PER-WORD" class="xref">SPI-IOC-RD-BITS-PER-WORD</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-BITS-PER-WORD" class="xref">SPI-IOC-WR-BITS-PER-WORD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:(SETF BITS/WORD)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3A%28SETF%20BITS%2FWORD%29">(SETF BITS/WORD)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">BITS</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L66">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:CLOSE-SPI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3ACLOSE-SPI">CLOSE-SPI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L24">Source</a>  </header> <div class="docstring"><pre>Close a handle to a SPIDEV device.

See <a href="#MACRO-FUNCTION%20CL-SPIDEV-LLI%3AWITH-OPEN-SPI" class="xref">WITH-OPEN-SPI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:DEVICES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3ADEVICES">DEVICES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L14">Source</a>  </header> <div class="docstring"><pre>Return a list of available SPIDEV devices on the system.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:LSB-FIRST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3ALSB-FIRST">LSB-FIRST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L53">Source</a>  </header> <div class="docstring"><pre>Accessor to whether the least significant byte comes first on the SPIDEV device.

The value should be T or NIL.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AIOCTL" class="xref">IOCTL</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-LSB-FIRST" class="xref">SPI-IOC-RD-LSB-FIRST</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-LSB-FIRST" class="xref">SPI-IOC-WR-LSB-FIRST</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:(SETF LSB-FIRST)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3A%28SETF%20LSB-FIRST%29">(SETF LSB-FIRST)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L56">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:MAX-SPEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3AMAX-SPEED">MAX-SPEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Accessor to the maximum speed frequency of the SPIDEV device in Hertz.

The value should be a positive integer. If it is too large and
the device refuses to adjust to it, a warning is signalled.

The actual rate in Hertz is returned.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AIOCTL" class="xref">IOCTL</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-MAX-SPEED-HZ" class="xref">SPI-IOC-RD-MAX-SPEED-HZ</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-MAX-SPEED-HZ" class="xref">SPI-IOC-WR-MAX-SPEED-HZ</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:(SETF MAX-SPEED)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3A%28SETF%20MAX-SPEED%29">(SETF MAX-SPEED)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L72">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:MODE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3AMODE">MODE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L36">Source</a>  </header> <div class="docstring"><pre>Accessor to the mode in which the SPIDEV device operates.

The value should be one of :MODE-0 :MODE-1 :MODE-2 :MODE-3 or
a specific mode integer.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AIOCTL" class="xref">IOCTL</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-WR-MODE32" class="xref">SPI-IOC-WR-MODE32</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-IOC-RD-MODE32" class="xref">SPI-IOC-RD-MODE32</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-0" class="xref">SPI-MODE-0</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-1" class="xref">SPI-MODE-1</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-2" class="xref">SPI-MODE-2</a>
See <a href="#VARIABLE%20CL-SPIDEV-LLI%3ASPI-MODE-3" class="xref">SPI-MODE-3</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:(SETF MODE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3A%28SETF%20MODE%29">(SETF MODE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L45">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:OPEN-SPI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3AOPEN-SPI">OPEN-SPI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DIRECTION</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L19">Source</a>  </header> <div class="docstring"><pre>Open a handle to a SPIDEV device.

See <a href="#MACRO-FUNCTION%20CL-SPIDEV-LLI%3AWITH-OPEN-SPI" class="xref">WITH-OPEN-SPI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:READ-BYTES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3AREAD-BYTES">READ-BYTES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">BYTES</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L83">Source</a>  </header> <div class="docstring"><pre>Reads a byte sequence from the SPIDEV device handle.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ALSB-FIRST" class="xref">LSB-FIRST</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ABITS%2FWORD" class="xref">BITS/WORD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:TRANSMIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3ATRANSMIT">TRANSMIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument">BYTES</li>    <li class="argument">SPEED-HZ</li>    <li class="argument">DELAY-USECS</li>    <li class="argument">BITS/WORD</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L86">Source</a>  </header> <div class="docstring"><pre>Perform a SPI transmission of the given byte sequence.

The array must be an unsigned-byte 8 array that is sharable.
On most implementations that matter this will correspond to
any simple-vector with element-type unsigned-byte 8.

The speed-hz, delay-usecs, and bits/word parameters are temp
overrides for the device configuration during the transmission.

Returned is a fresh vector of the same length as the bytes
vector, containing the contents of the read buffer of the
transmission.

See CFFI:MAKE-SHAREABLE-BYTE-VECTOR</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV-LLI:WRITE-BYTES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV-LLI%3AWRITE-BYTES">WRITE-BYTES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">BYTES</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L80">Source</a>  </header> <div class="docstring"><pre>Writes the byte sequence to the SPIDEV device handle.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ALSB-FIRST" class="xref">LSB-FIRST</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ABITS%2FWORD" class="xref">BITS/WORD</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION CL-SPIDEV-LLI:WITH-OPEN-SPI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20CL-SPIDEV-LLI%3AWITH-OPEN-SPI">WITH-OPEN-SPI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">HANDLE</li>  <li class="argument">ID</li>  <li class="argument lambda-list-keyword">&amp;KEY</li>  <li class="argument">DIRECTION</li>  <li class="argument lambda-list-keyword">&amp;REST</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L28">Source</a>  </header> <div class="docstring"><pre>Convenience wrapper to lexically retain a handle to a SPIDEV device.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AOPEN-SPI" class="xref">OPEN-SPI</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ACLOSE-SPI" class="xref">CLOSE-SPI</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE CL-SPIDEV"> <header> <h3> <a href="#PACKAGE%20CL-SPIDEV">CL-SPIDEV</a> </h3> <ul class="nicknames"> <li>ORG.SHIRAKUMO.SPIDEV</li>  <li>SPIDEV</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition structure" id="STRUCTURE CL-SPIDEV:HANDLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20CL-SPIDEV%3AHANDLE">HANDLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Struct to wrap a handle to a SPIDEV device and all of its associated information.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AOPEN" class="xref">OPEN</a>
See <a href="#GENERIC-FUNCTION%20CL-SPIDEV-LLI%3ACLOSE" class="xref">CLOSE</a>
See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AMODE" class="xref">MODE</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ALSB-FIRST" class="xref">LSB-FIRST</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ABITS%2FWORD" class="xref">BITS/WORD</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AMAX-SPEED" class="xref">MAX-SPEED</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AREAD" class="xref">READ</a>
See <a href="#FUNCTION%20CL-SPIDEV%3AREAD%2A" class="xref">READ*</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AWRITE" class="xref">WRITE</a>
See <a href="#FUNCTION%20CL-SPIDEV%3AWRITE%2A" class="xref">WRITE*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:BITS/WORD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3ABITS%2FWORD">BITS/WORD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Accessor to how many bits there are in a word on the device.

Should be an (UNSIGNED-BYTE 8) value.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:(SETF BITS/WORD)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3A%28SETF%20BITS%2FWORD%29">(SETF BITS/WORD)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:CLOSE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3ACLOSE">CLOSE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L28">Source</a>  </header> <div class="docstring"><pre>Safely closes the SPIDEV device. It becomes unusable after this.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:DEVICES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3ADEVICES">DEVICES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/low-level.lisp#L14">Source</a>  </header> <div class="docstring"><pre>Return a list of available SPIDEV devices on the system.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:HANDLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE">HANDLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Returns the underlying stream handle of the handle object.

This is useful when you need to interact with the low-level
system directly for some reason.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:LSB-FIRST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3ALSB-FIRST">LSB-FIRST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Accessor to whether the least significant byte comes first.

Should be a boolean.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:(SETF LSB-FIRST)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3A%28SETF%20LSB-FIRST%29">(SETF LSB-FIRST)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L43">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:MAX-SPEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AMAX-SPEED">MAX-SPEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Accessor to the maximum transfer speed of the SPIDEV device in Hertz.

Should be an (UNSIGNED-BYTE 32) value.
The device may reject your requested speed, in which case a
warning is signalled and the actual speed is returned.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:(SETF MAX-SPEED)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3A%28SETF%20MAX-SPEED%29">(SETF MAX-SPEED)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L52">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:MODE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AMODE">MODE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L3">Source</a>  </header> <div class="docstring"><pre>Accessor to the SPIDEV device's transfer mode.

The value should be one of :MODE-0 :MODE-1 :MODE-2 :MODE-3

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:(SETF MODE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3A%28SETF%20MODE%29">(SETF MODE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L38">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:OPEN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AOPEN">OPEN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ID</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L12">Source</a>  </header> <div class="docstring"><pre>Open a handle to a SPIDEV device.

This will produce a safe object that will always ensure the
underlying file-system handle is closed when the object is
no longer referenced. It will also cache the properties of
the underlying device, so read access to them should be fast.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:READ"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AREAD">READ</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">BYTES</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L57">Source</a>  </header> <div class="docstring"><pre>Read a sequence of words from the SPIDEV device.

The bytes vector should be able to contain unsigned-bytes of
size up to the number of BITS/WORD of the handle.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a>
See <a href="#FUNCTION%20CL-SPIDEV%3AREAD%2A" class="xref">READ*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:READ*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AREAD%2A">READ*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L60">Source</a>  </header> <div class="docstring"><pre>Read n words from the SPIDEV device into a fresh array.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AREAD" class="xref">READ</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:TRANSMIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3ATRANSMIT">TRANSMIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument">BYTES</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SPEED</li>    <li class="argument">DELAY</li>    <li class="argument">BITS/WORD</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L72">Source</a>  </header> <div class="docstring"><pre>Perform a SPI transmission of the given byte sequence.

The array must be an unsigned-byte 8 array.

The speed-hz, delay-usecs, and bits/word parameters are temp
overrides for the device configuration during the transmission.
They default to MAX-SPEED, 0, and BITS/WORD respectively.

Returned is a fresh vector of the same length as the bytes
vector, containing the contents of the read buffer of the
transmission.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AMAX-SPEED" class="xref">MAX-SPEED</a>
See <a href="#FUNCTION%20CL-SPIDEV-LLI%3ABITS%2FWORD" class="xref">BITS/WORD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:WRITE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AWRITE">WRITE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">BYTES</li>    <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L65">Source</a>  </header> <div class="docstring"><pre>Write a sequence of words to the SPIDEV device.

The bytes vector should contain unsigned-bytes of size up to
the number of BITS/WORD of the handle.

The bytes written are automatically flushed to the spi device
handle, so that when WRITE returns, the operation should have
completed. If you need to manually control flushing or need
to write in much smaller intervals, please refer to the low-
level interface.

See <a href="#FUNCTION%20CL-SPIDEV%3AHANDLE" class="xref">HANDLE</a>
See <a href="#FUNCTION%20CL-SPIDEV%3AWRITE%2A" class="xref">WRITE*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-SPIDEV:WRITE*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-SPIDEV%3AWRITE%2A">WRITE*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HANDLE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">BYTES</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/cl-spidev/blob/d4c93f3a053d12411e201902804536b46f81cf01/wrapper.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Writes the bytes in the arguments list to the SPIDEV device.

See <a href="#FUNCTION%20CL-SPIDEV-LLI%3AWRITE" class="xref">WRITE</a></pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 